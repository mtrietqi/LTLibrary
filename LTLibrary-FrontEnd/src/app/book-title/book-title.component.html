<div class=" container-scroller"> 
    <!--Navbar-->
    <nav class="navbar bg-info col-lg-12 col-12 p-0 fixed-top navbar-inverse d-flex flex-row">
      <div class="bg-info text-center navbar-brand-wrapper"> <a class="navbar-brand brand-logo" href="#"><img src="../../assets/images/logo.png" /></a> <a class="navbar-brand brand-logo-mini" href="#"><img src="../../assets/images/logo.png" alt=""></a> </div>
      <div class="navbar-menu-wrapper d-flex align-items-center">
        <button class="navbar-toggler navbar-toggler hidden-md-down align-self-center mr-3" type="button" data-toggle="minimize"> <span class="navbar-toggler-icon"></span> </button>
        <ul class="navbar-nav ml-lg-auto d-flex align-items-center flex-row">
            <li class="nav-item"> <a class="nav-link" title="Sign out" style="cursor: pointer" (click) = "signOut()"><i class="fa fa-sign-out"></i></a> </li>
          </ul>
        <button class="navbar-toggler navbar-toggler-right hidden-lg-up align-self-center" type="button" data-toggle="offcanvas"> <span class="navbar-toggler-icon"></span> </button>
      </div>
    </nav>
    <!--End navbar-->
    <div class="container-fluid">
      <div class="row row-offcanvas row-offcanvas-right">
        <nav class="bg-white sidebar sidebar-fixed sidebar-offcanvas bg-info" id="sidebar">
            <div class="user-info" style="padding-top: 25px;">
                <img src="{{currentLibLink+currentLibId}}.jpg" alt="Avatar">
                <p class="name">{{currentLibFName+" "+currentLibLName}}</p>
                <p class="designation">{{currentLibRole}}</p>
                <span class="online"></span>
            </div>
          <ul class="nav mt-5">
            <!-- Circulation -->
            <li class="nav-item"> <a class="nav-link" href="/Borrowing"><span class="menu-title text-white" style="font-size:2rem">Circulation</span> </a></li>
         
            <li class="nav-item"> <a class="nav-link" href="/Borrowing"><img src="../../assets/images/SliderBar/Borrowing2.png" alt=""> <span class="menu-title text-white">Borrowing</span> </a></li>
  
            <li class="nav-item "> <a class="nav-link" href="/Returning"><img src="../../assets/images/SliderBar/Return.png" alt=""> <span class="menu-title text-white">Returning</span> </a></li>
   
            <li class="nav-item">
              <hr/>
            </li>
         <!-- End Circulation -->
  
            <!-- Report -->
            <li class="nav-item"> <a class="nav-link" href="/BookNotReturn"><span class="menu-title text-white" style="font-size:2rem">Report</span> </a></li>
            <li class="nav-item"> <a class="nav-link"  data-toggle="collapse" href="#CourseCollapse" aria-expanded="false" aria-controls="collapseExample">
            <img src="../../assets/images/SliderBar/Course.png" alt=""> <span class="menu-title text-white">Report</span><span class="fa fa-arrow-down pull-right text-white"></span> </a> 
            </li>
            <div class="collapse" id="CourseCollapse">
                <li class="nav-item ml-4"> <a class="nav-link" href="/BookNotReturn"><img src="../../assets/images/SliderBar/BookCourse.png" alt=""> <span class="menu-title text-white">Book Not Yet Return</span> </a></li>
                <li class="nav-item ml-4"> <a class="nav-link" href="/AvailableBook"><img src="../../assets/images/SliderBar/BookCourse.png" alt=""> <span class="menu-title text-white">Available Book</span> </a></li>
                <li class="nav-item ml-4"> <a class="nav-link" href="/BookByStatus"><img src="../../assets/images/SliderBar/BookCourse.png" alt=""> <span class="menu-title text-white">Book By Status</span> </a></li>
            </div>
            <li class="nav-item">
                <hr/>
            </li>
            <!-- End Report -->
  
           <!-- Book --> 
            <li class="nav-item"> <a class="nav-link" href="/Book"><span class="menu-title text-white" style="font-size:2rem">Book</span> </a></li>
               <!-- Collapse --> 
            <li class="nav-item"> <a class="nav-link"  data-toggle="collapse" href="#BookCollapse" aria-expanded="false" aria-controls="collapseExample">
             <img src="../../assets/images/SliderBar/Book.png" alt=""> <span class="menu-title text-white">Book</span><span class="fa fa-arrow-down pull-right text-white"></span> </a> 
            </li>
            <div class="collapse" id="BookCollapse">
                <li class="nav-item ml-4"> <a class="nav-link" href="/BookTitle"><img src="../../assets/images/SliderBar/BookTitle.png" alt=""> <span class="menu-title text-white">Book Title</span> </a></li>
                <li class="nav-item ml-4"> <a class="nav-link" href="/Book"><img src="../../assets/images/SliderBar/BookList.png" alt=""> <span class="menu-title text-white">Book List</span> </a></li>
            </div>
     <!-- Collapse --> 
            <li class="nav-item"> <a class="nav-link" href="/Category"> <img src="../../assets/images/SliderBar/Categories.png" alt=""> <span class="menu-title text-white">Category</span> </a> </li>
            <li class="nav-item"> <a class="nav-link" href="/Author"> <img src="../../assets/images/SliderBar/Author.png" alt=""> <span class="menu-title text-white">Author</span> </a> </li>
            <li class="nav-item"> <a class="nav-link" href="/BookPublisher"> <img src="../../assets/images/SliderBar/BookPublisher.png" alt=""> <span class="menu-title text-white">Publisher</span> </a> </li>
            <li class="nav-item">
              <hr/>
            </li>
            <!-- End Book --> 
               
      <!-- Borrower --> 
      <li class="nav-item"> <a class="nav-link" href="/Borrower"><span class="menu-title text-white" style="font-size:2rem">Human</span> </a></li>
     <!-- Collapse --> 
            <li class="nav-item"> <a class="nav-link"  data-toggle="collapse" href="#BorrowerCollapse" aria-expanded="false" aria-controls="collapseExample">
             <img src="../../assets/images/SliderBar/customers.png" alt=""> <span class="menu-title text-white">Borrower</span><span class="fa fa-arrow-down pull-right text-white"></span> </a> 
            </li>
            <div class="collapse" id="BorrowerCollapse">
                <li class="nav-item ml-4"> <a class="nav-link" href="/BorrowerType"><img src="../../assets/images/SliderBar/employees.png" alt=""> <span class="menu-title text-white">Borrower Type</span> </a></li>
                <li class="nav-item ml-4"> <a class="nav-link" href="/Borrower"><img src="../../assets/images/SliderBar/BorrowerList.png" alt=""> <span class="menu-title text-white">Borrower List</span> </a></li>
            </div>
     <!-- Collapse --> 
     <!-- End Borrower --> 
             <!-- Librarian --> 
            <li class="nav-item"> <a class="nav-link" href="/Librarian"> <img src="../../assets/images/SliderBar/Librarian.png" alt=""> <span class="menu-title text-white">Librarian</span> </a> </li>
            <li class="nav-item">
              <hr/>
            </li>
             <!-- End Librarian -->     
            
          </ul>
        </nav>
        <!-- SIDEBAR ENDS -->
      
      <div class="content-wrapper">
        <div class="card">
          <div class="card-block">
            <h5 class="card-title mb-4 text-info">Book Title</h5>
            
            <div class="card-header bg-white">
              <div class=" row justify-content-end" role="group">
              	<div class="col-1">
               <button id="btnAdd" class="btn btn-info " (click) = "initializeAddForm();">Add</button> 
               </div>
              </div>
            </div>
            <div class="card-block">
                <table id="tbl" class="table table-striped table-bordered table-hover">
                  <thead>
                    <tr class="">
                      <th>No.</th>
                      <th>ISBN</th>
                      <th>Book Title</th>
                      <th>Book Author</th>
                      <th>Book Category</th>
                      <th>Publisher Name</th>
                      <th>Edition</th>
                      <th>More Info/Edit/Delete</th>
                    </tr>
                  </thead>
                  <tfoot>
                    <tr class="">
                      <th>No.</th>
                      <th>ISBN</th>
                      <th>Book Title</th>
                      <th>Book Author</th>
                      <th>Book Category</th>
                      <th>Publisher Name</th>
                      <th>Edition</th>
                      <td></td>
                    </tr>
                  </tfoot>
                  <tbody>
                    <tr *ngFor="let title of data; let i = index" id="{{title.titleid}}">
                      <td>{{i+1}}</td>
                      <td>{{title.isbn}}</td>
                      <td>{{title.booktitle}}</td>
                      <th>
                        <div *ngFor="let titleauthor of title.titleauthorses">
                          <span>{{titleauthor.authors.firstname}} {{titleauthor.authors.lastname}}</span>
                        </div>
                      </th>
                      <th>
                        <div *ngFor="let titlecategories of title.titlecategorieses">
                          <span>{{titlecategories.categories.catname}}</span>
                        </div>
                      </th>
                      <td>{{title.publishers.pubname}}</td>
                      <td>{{title.edition}}</td>                      
                      <td class="text-center">
                        <span (click)="getTitleById(title.titleid)" id="moreInfoClick" style="cursor:pointer;" data-toggle="modal" data-target="#modalInfo">
                          <i class="fa fa-2x text-danger fa-info-circle p-2"></i>
                        </span>
                        <span (click)="initializeUploadForm(title.titleid);" id="editClick" style="cursor:pointer;" data-toggle="modal" data-target="#modalEdit">
                          <i class="fa fa-2x text-danger fa-edit p-2"></i>
                        </span>
                        <span (click)="nearlyDelete(title.titleid)" data-toggle="modal" data-target="#modalDelete" id="deleteClick"
                          style="cursor:pointer;">
                          <i class="fa text-danger fa-2x fa-remove p-2"></i>
                        </span>
                      </td>
                    </tr>              
                  </tbody>
                </table>
              </div>
          </div>
        </div>
      </div>
      
      <footer class="footer">
        <div class="container-fluid clearfix text"> <span class="float-right"> <a href="#">LTLibrary</a> &copy; 2017 </span> </div>
      </footer>
    </div>
  </div>
</div>

<!--Modal Add-->
<div id="modalAdd" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add New Book Title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        		<div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">ISBN</label>
                    <input type="text" class="form-control p_input" placeholder="ISBN" [(ngModel)]="isbn" >
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Book Title</label>
                    <input type="text" class="form-control p_input" placeholder="Book Title" [(ngModel)]="bookTitle" >
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group row">
                  	<label class="col-sm-2 col-form-label">Author</label>
                    <select id="AuthorSelectionAdd"  name="Author" multiple="multiple" style="width:30%">
   
                    </select>
                  </div>
                </div>
                  <div class="form-group">
                  <div class="input-group row">
                  	<label class="col-sm-2 col-form-label">Category</label>
                    <select id="CategorySelectionAdd"  name="Category" multiple="multiple" style="width:30%">
     
                    </select>
                  </div>
                </div>  
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Publisher Name:</label>
                    <select class="js-example-basic-single" id="PublisherNameAdd" name="BorrowerTypeEdit" style="width:15rem;">
                    </select>
                  </div>
                </div>
               <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Edition</label>
                    <input type="text" class="form-control p_input" placeholder="Edition"  [(ngModel)]="edition" >
                  </div>
                </div>
                 <div class="form-group">
                  <div class="input-group row">
                  	<label class="col-sm-2 col-form-label">Publishing Date</label>
                    <input type="text" name="PublishingDate" value="{{getSystemDate()}}"  id ="publishingDate"/>
                    
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Reference Price($)</label>
                    <input type="text" class="form-control p_input" placeholder="Reference Price"  [(ngModel)]="price">
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Book Image</label>
                    <input id ="bookImageSelection" type="file" class="form-control p_input" placeholder="Book Image" (change) = "uploadBookImage($event)" accept='image/jpeg,image/gif,image/png'>
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Table Of Content</label>
                    <input id = "tableofContent" type="file" class="form-control p_input" placeholder="Table Of Content"  (change) = "uploadTableOfContent($event)">
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Description</label>
                   	 <textarea  class="form-control p_input" placeholder="Description" rows="5" style="height:auto"  [(ngModel)]="description"></textarea>
                  </div>
                </div> 
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click) = "checkAddForm()">Add</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!--Modal Edit-->
<div id="modalEdit" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit Book Title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        		<div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">ISBN</label>
                    <input type="text" class="form-control p_input" placeholder="ISBN" [(ngModel)]="isbnEdit">
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Book Title</label>
                    <input type="text" class="form-control p_input" placeholder="Book Title"  [(ngModel)]="bookTitleEdit">
                  </div>
                </div>
                 <div class="form-group">
                  <div class="input-group row">
                  	<label class="col-sm-2 col-form-label">Author</label>
                    <select id="AuthorSelectionEdit"  name="Author[]" multiple="multiple" style="width:30%">

                    </select>
                  </div>
                </div>
                  <div class="form-group">
                  <div class="input-group row">
                  	<label class="col-sm-2 col-form-label">Category</label>
                    <select id="CategorySelectionEdit"  name="Category[]" multiple="multiple" style="width:30%">
                 
                    </select>
                  </div>
                </div> 
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Publisher Name:</label>
                    <select class="js-example-basic-single" id="PublisherNameEdit" name="BorrowerTypeEdit" style="width:15rem;" id = "PublisherNameEdit">
                    </select>
                  </div>
                </div>
               <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Edition</label>
                    <input type="text" class="form-control p_input" placeholder="Edition" [(ngModel)]="editionEdit">
                  </div>
                </div>
                 <div class="form-group">
                  <div class="input-group row">
                  	<label class="col-sm-2 col-form-label">Publishing Date</label>
                    <input type="text" name="PublishingDate" id = "publishingDateEdit" value = "{{pubDateEdit}}" />
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Reference Price($)</label>
                    <input type="text" class="form-control p_input" placeholder="Reference Price" [(ngModel)]="priceEdit">
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Book Image</label>
                    <input type="file" class="form-control p_input" placeholder="Book Image" (change) = "uploadBookImage($event)" >
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Table Of Content</label>
                    <input id = "tableofContent" type="file" class="form-control p_input" placeholder="Table Of Content" (change) = "uploadTableOfContent($event)" >
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group row">
                    <label class="col-sm-2 col-form-label">Description</label>
                   	 <textarea  class="form-control p_input" placeholder="Description" rows="5" style="height:auto" [(ngModel)]="descriptionEdit"></textarea>
                  </div>
                </div> 
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click) = "checkEditForm()">Save Changes</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!--Modal Info-->
<div id="modalInfo" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">More Info Book Title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table id="InfoTb" class="table table-striped table-bordered table-hover">
                  <thead>
                    <tr class="">
                      <th>Publishing Date</th>
                      <th>Reference Price($)</th>
                      <th>Book Image</th>
                      <th>Table Of Content</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>{{pubDateEdit}}</td>
                      <td>{{addCommas(priceEdit)}}</td>
                      <td><img src="{{backendBookImageLink+bookImageEdit}}" alt="" width="100"></td>
                      <td><a href="{{backendTOCLink+tableContentEdit}}">{{tableContentEdit}}</a></td>
                      <td>{{descriptionEdit}}</td>
                    </tr>
                    
                  </tbody>
                </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!--Modal Delete-->
<div id="modalDelete" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Confirm</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <p>Do you really want to delete that item?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="deleteBookTitle()">Delete</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Back</button>
      </div>
    </div>
  </div>
</div>